!function(){var n,i;function s(e,t){var r,n={}.hasOwnProperty;for(r in t)n.call(t,r)&&(e[r]=t[r]);return e}n={0:"unknown lderror",998:"skipped",999:"canceled",1e3:"user not login",1001:"suspicious user",1002:"unknown error",1003:"image process failed",1004:"quota exceeded",1005:"csrftoken mismatch",1006:"timeout",1007:"server down",1008:"unable to parse user data",1009:"bot",1010:"captcha error",1011:"resource conflict",1012:"permission denied",1013:"expire",1014:"apply for a resource that already exists",1015:"bad parameter",1016:"feature not yet available",1017:"resource corrupted",1018:"no consent",1019:"wrong domain",1020:"not supported",1021:"email not verified",1022:"missing dependency",1023:"lderror testing",1024:"limited by throttling",1025:"runtime error"},(i=function(e,t){var r;return null==e&&(e=""),null==t&&(t=0),this instanceof i?("string"==typeof e?(this.message=e,this.id=t):e instanceof Error?(this.stack=e.stack,this.message=e.message,this.id=t||0):"object"==typeof e?(delete e.__proto__,delete e.constructor,s(this,e).id=e.id||t||0):"number"==typeof e&&(this.id=e,"string"==typeof t&&(this.message=t),this.message||(this.message=(r=n[this.id||0])?r:100<=this.id&&this.id<600?"http code: "+this.id:n[0]+" (id: "+(this.id||0)+")")),this.stack=(new Error).stack,this.name=i.prototype.name,this):new i(e,t)}).prototype=s(Object.create(Error.prototype),{name:"lderror",toString:function(e){var t;return null==e&&(e={}),t=this.toObject(),null==e.stack||e.stack||delete t.stack,JSON.stringify(t)},toObject:function(){var e={name:this.name};return e.id=this.id,e.message=this.message,e.stack=this.stack,e}}),i.id=function(e){return"object"==typeof e&&"lderror"===e.name&&e.id?e.id:0},i.reject=function(e,t){return Promise.reject(new i(e,t))},(i.handler=function(e){return this._i=((e=null==e?{}:e).ignore||[]).concat([999]),this._h=e.handler,this._r=e.rule||function(e){return e},this._s={},this}).prototype=s(Object.create(Object.prototype),{handler:function(e){var t=this,r=i.id(e)||0;if(!function(e,t){var r=-1,n=t.length>>>0;for(;++r<n;)if(e===t[r])return!0;return!1}(r,this._i))return this._s[id]=1,this.h(this._r(r)).then(function(){return t._s[r]=0}),r?void 0:console.log(e)},isOn:function(){var r,n;return!!function(){var e,t=[];for(r in e=this._s)n=e[r],t.push(n);return t}.call(this).filter(function(e){return e}).length}}),"undefined"!=typeof module&&null!==module?module.exports=i:"undefined"!=typeof window&&null!==window&&(window.lderror=i)}.call(this);
