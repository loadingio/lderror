!function(){var o,i;function s(e,r){var t,n={}.hasOwnProperty;for(t in r)n.call(r,t)&&(e[t]=r[t]);return e}o={0:"unknown lderror",998:"skipped",999:"canceled",1e3:"user not login",1001:"suspicious user",1002:"unknown error",1003:"image process failed",1004:"quota exceeded",1005:"csrftoken mismatch",1006:"timeout",1007:"server down",1008:"unable to parse user data",1009:"bot",1010:"captcha error",1011:"resource conflict",1012:"permission denied",1013:"expire",1014:"apply for a resource that already exists",1015:"bad parameter",1016:"feature not yet available",1017:"resource corrupted",1018:"no consent",1019:"wrong domain",1020:"not supported",1021:"email not verified",1022:"missing dependency",1023:"lderror testing",1024:"limited by throttling",1025:"runtime error",1026:"not applicable",1027:"missing config",1028:"resource unavailable",1029:"session data corrupted",1030:"password mismatched",1031:"weak password",1032:"credential scheme mismatched",1033:"view failed to render",1034:"user not found",1035:"payment rejected",1036:"reused passwords not allowed",1037:"offline",1038:"file too large",1039:"payment rejected",1040:"registration closed",1041:"resource possibly blocked by client",1042:"3rd party service error",1043:"additional token required",1044:"unsupported encoding"},(i=function(e,r){var t,n;return null==e&&(e=""),null==r&&(r=0),this instanceof i?(t=(isNaN(+r)?0:+r)||e.id||0,"string"==typeof e?(this.message=e,this.id=t):e instanceof Error?(this.stack=e.stack,this.message=e.message,this.id=t):"object"==typeof e?(delete e.__proto__,delete e.constructor,s(this,e).id=t):"number"==typeof e&&(this.id=e,"string"==typeof r?this.message=r:"object"==typeof r&&(this.payload=r),this.message||(this.message=(n=o[this.id||0])?n:100<=this.id&&this.id<600?"http code: "+this.id:o[0]+" (id: "+(this.id||0)+")")),this.name=i.prototype.name,this.stack=(n=s(new Error,this)).stack,this.error=n,this):new i(e,r)}).prototype=s(Object.create(Error.prototype),{name:"lderror",toString:function(e){var r;return null==e&&(e={}),r=this.toObject(),null==e.stack||e.stack||delete r.stack,JSON.stringify(r)},toObject:function(){var e={name:this.name};return e.id=this.id,e.message=this.message,e.stack=this.stack,e.payload=this.payload,e}}),i.id=function(e){return e&&"object"==typeof e&&"lderror"===e.name&&e.id?e.id:0},i.message=function(e){return"number"==typeof e?o[e]||o[0]:"object"==typeof e&&o[e.id]||o[0]},i.reject=function(e,r){return Promise.reject(new i(e,r))},i.handler=function(e){var o=this;return this.i=((e=null==e?{}:e).ignore||[]).concat([999]),this.h=e.handler,this.r=e.rule||function(e){return e},this.s={},(e=function(e){var r;if(!function(e,r){var t=-1,n=r.length>>>0;for(;++t<n;)if(e===r[t])return!0;return!1}(r=i.id(e),o.i)&&(o.s[r]=1,o.h(o.r(r),e).then(function(){return o.s[r]=0}),!r))throw console.log(e),e}).isOn=function(){var t,n;return!!function(){var e,r=[];for(t in e=this.s)n=e[t],r.push(n);return r}.call(o).filter(function(e){return e}).length},e},i.eventHandler={error:function(e){return!(!e.error||"lderror"!==e.error.name||!e.error.error||e.error===e.error.error)&&(console.warn("uncaught lderror",e.error),console.warn("with its internal Error object thrown:"),e.preventDefault(),setTimeout(function(){throw e.error.error},0),!0)},rejection:function(e){return!(!e.reason||"lderror"!==e.reason.name||!e.reason.error)&&(console.warn("Unhandled rejection with lderror:",e.reason),console.warn("with its internal Error object thrown:"),setTimeout(function(){throw e.reason.error},0),e.preventDefault(),!0)}},"undefined"!=typeof module&&null!==module?module.exports=i:"undefined"!=typeof window&&null!==window&&(window.lderror=i)}.call(this);
